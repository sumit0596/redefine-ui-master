function Analytics(e,t){let n=window.navigator.userAgent;if(n.toLowerCase().includes("bot"))return;let r=window.location.pathname,i=localStorage.getItem("PrevUrl");if(("/investors"==i||"/"==i||null==i)&&("/investors/financial-results"==r||"/investors/integrated-reports"==r||"/investors/circulars"==r||"/investors/announcements-and-webcasts"==r))return;localStorage.setItem("PrevUrl",r);let o=e+"/analytics/add?ApiToken="+t,a=()=>Date.now().toString(36)+"-"+Math.random().toString(36).substr(2),c=()=>[...Array(36)].map(()=>String.fromCharCode(97+26*Math.random())).join(""),l="",s="",d=1,u,m=M("utm_campaign"),f=M("utm_medium"),g=M("utm_source"),$=M("utm_content"),y=M("utm_term"),v=M("utm_clickid"),h=M("ajs_anonymous_id"),I=window.innerWidth<768?"Mobile":window.innerWidth>767&&window.innerWidth<1025?"Tablet":"Desktop",T=window.screen.width+"x"+window.screen.height,p=(b=n,u="Unknown",-1!==b.indexOf("Win")?u="Windows":-1!==b.indexOf("Android")?u="Android":-1!==b.indexOf("like Mac")?u="iOS":-1!==b.indexOf("Mac")?u="MacOS":-1!==b.indexOf("Linux")&&(u="Linux"),u),A=document.referrer;if(-1===window.location.hostname.indexOf(A)&&""!=A)L("ReferrerUrl",A,30);else{let k=M("ReferrerUrl");k&&(A=k)}M("DeviceType")||L("DeviceType",I,30),M("Os")||L("Os",p,30),M("ScreenResolution")||L("ScreenResolution",T,30);var w,b,x="ajs_anonymous_id";let O,_=void 0!=h&&""!=h?h:(O=M(x),(""==O||void 0==O||null==O)&&L(x,O=a()+"-"+c(),365),O);function U(){let e,t,i,a=(e=0,t=0,(i=sessionStorage.getItem("user"))&&(""!=(i=JSON.parse(i)).RoleId&&void 0!=i.RoleId&&(e=i.RoleId),""!=i.UserId&&void 0!=i.UserId&&(t=i.UserId)),{Url:window.location.href,AnalyticId:l,Message:s,UserAgent:n,BrowserId:_,Type:d,RoleId:e,UserId:t,utm_campaign:m,utm_medium:f,utm_source:g,utm_content:$,utm_term:y,utm_clickid:v,Os:p,ReferrerUrl:A,Title:document.title,ExitTime:"",DeviceType:I,ScreenResolution:T,LandingPage:r,ExitPage:""});""!=a.BrowserId&&void 0!=a.BrowserId&&fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.ok?e.json():{status:"error"}).then(e=>{"success"==e.status?(e?.data?.AnalyticId&&1==d&&(l=e.data.AnalyticId),1!=d&&(s="",d=1)):S()}).catch(e=>{S()})}function S(){l="",s="",d=1}E();for(let R=1;R<w;R++)window.clearInterval(R);function E(){U(),w=setInterval(function(){U()},2e4)}function L(e,t,n){let r=new Date,i=new Date;return i.setTime(r.getTime()+864e5*n),document.cookie=e+"="+escape(t)+";path=/;"+(null==i?"":"; expires="+i.toGMTString()),t}function M(e){let t=e+"=",n=decodeURIComponent(document.cookie),r=n.split("; "),i;return r.forEach(e=>{0===e.indexOf(t)&&(i=e.substring(t.length))}),i}window.onfocus=function(){w||(S(),E())},window.onblur=function(){for(let e=0;e<=w;e++)window.clearInterval(e);clearInterval(w),w=0},setTimeout(function(){let e=document.querySelectorAll("[clickanalytics]");e.forEach(e=>e.addEventListener("click",e=>{void 0!=e.currentTarget.getAttribute("clickanalytics")&&""!=e.currentTarget.getAttribute("clickanalytics")&&(s=e.currentTarget.getAttribute("clickanalytics"),d=2,U())}));let t=document.querySelectorAll("[downloadanalytics]");t.forEach(e=>e.addEventListener("click",e=>{void 0!=e.currentTarget.getAttribute("downloadanalytics")&&""!=e.currentTarget.getAttribute("downloadanalytics")&&(s=e.currentTarget.getAttribute("downloadanalytics"),d=3,U())}))},2e3)}